<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>åŸºäºGithub+Hexoæ­å»ºä¸ªäººåšå®¢</title>
    <url>/2025/06/01/%E5%9F%BA%E4%BA%8EGithub-Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<p>ä¸ºäº†å…»æˆç»å¸¸åšå­¦ä¹ è®°å½•çš„ä¹ æƒ¯ï¼ŒèŠ±äº†ä¸€äº›æ—¶é—´åˆ©ç”¨ Hexo+next+Github Pages æ­å»ºäº†ä¸€ä¸ªç®€æ˜“çš„ä¸ªäººåšå®¢ã€‚è¿™ä¸ªæ­å»ºè¿‡ç¨‹æ­£å¥½ä½œä¸ºç¬¬ä¸€ç¯‡åšå®¢ã€‚</p>
<span id="more"></span>
<h1>å®‰è£…ä¾èµ–ç¯å¢ƒ</h1>
<p>Hexo æ˜¯åŸºäº Node.js çš„é™æ€åšå®¢æ¡†æ¶ï¼Œè™½ç„¶ä¸ªäººä¸å¤ªäº†è§£ nodejsï¼Œä¸è¿‡ç›¸å…³æ­¥éª¤è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œç…§ç€ç½‘ä¸Šçš„æ”»ç•¥èµ°å°±è¡Œã€‚åœ¨æ­å»ºä¹‹å‰ï¼Œéœ€è¦ç¡®ä¿æœ¬åœ°å·²ç»å®‰è£…äº† Node.js å’Œ npmï¼ˆNode.js çš„åŒ…ç®¡ç†å·¥å…·ï¼‰ã€‚ä»¥ä¸‹æ˜¯å…·ä½“çš„å®‰è£…æ­¥éª¤ï¼š</p>
<h2 id="å®‰è£…-Node-js-å’Œ-npm">å®‰è£… Node.js å’Œ npm</h2>
<p>é¦–å…ˆï¼Œè®¿é—® <a href="https://nodejs.org/">Node.js å®˜æ–¹ç½‘ç«™</a>ï¼Œä¸‹è½½å¹¶å®‰è£…é€‚åˆä½ æ“ä½œç³»ç»Ÿçš„ Node.js ç‰ˆæœ¬ã€‚Node.js çš„å®‰è£…åŒ…é€šå¸¸ä¼šåŒæ—¶åŒ…å« npmï¼Œå› æ­¤å®‰è£…å®Œæˆåï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>
<p>å¦‚æœèƒ½å¤Ÿæ­£ç¡®è¾“å‡ºç‰ˆæœ¬å·ï¼Œè¯´æ˜ Node.js å’Œ npm å·²ç»å®‰è£…æˆåŠŸã€‚</p>
<h1>æœ¬åœ°éƒ¨ç½²</h1>
<h2 id="å®‰è£…-Hexo">å®‰è£… Hexo</h2>
<p>é€šè¿‡ npm å…¨å±€å®‰è£… Hexoã€‚æ‰“å¼€ç»ˆç«¯æˆ–å‘½ä»¤è¡Œå·¥å…·ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<p>å®‰è£…å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure>
<p>å¦‚æœèƒ½å¤Ÿæ­£ç¡®è¾“å‡ºç‰ˆæœ¬å·ï¼Œè¯´æ˜ Hexo å·²ç»å®‰è£…æˆåŠŸã€‚</p>
<h2 id="åˆå§‹åŒ–">åˆå§‹åŒ–</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo init hexo-root</span><br><span class="line"><span class="built_in">cd</span> hexo-root</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œhexo ç»™æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå…³é”®ç›®å½• hex-rootã€‚<b>åç»­çš„æ“ä½œéƒ½åœ¨ hexo-root ç›®å½•ä¸‹æ‰§è¡Œ</b>ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="built_in">ls</span></span><br><span class="line">_config.landscape.yml  db.json       package-lock.json  public     <span class="built_in">source</span></span><br><span class="line">_config.yml            node_modules  package.json       scaffolds  themes</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="å¯åŠ¨æœåŠ¡">å¯åŠ¨æœåŠ¡</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate &amp;&amp; hexo sever</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°å¦‚ä¸‹å†…å®¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">INFO  Validating config</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http://localhost:4000/ . Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>
<p>æµè§ˆå™¨é”®å…¥ç½‘å€ <a href="http://localhost:4000/%EF%BC%8C">http://localhost:4000/ï¼Œ</a> å¯ä»¥çœ‹åˆ°åšå®¢æœ¬åœ°éƒ¨ç½²æˆåŠŸ</p>
<figure style="text-align:center">
    <img src="/2025/06/01/%E5%9F%BA%E4%BA%8EGithub-Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/landscape.png" width="90%">
</figure>
<h1>ä¸»é¢˜é…ç½®</h1>
<p>hexo æä¾›çš„ landscape ä¸»é¢˜ä¸å¤ªå¥½çœ‹ï¼Œå°†å…¶æ›´æ¢ä¸ºç®€æ´æ¼‚äº®çš„ next ä¸»é¢˜ã€‚</p>
<h2 id="ä¸»é¢˜ä¸‹è½½ä¸å®‰è£…">ä¸»é¢˜ä¸‹è½½ä¸å®‰è£…</h2>
<p>è¿›å…¥ Hexo åšå®¢æ ¹ç›®å½• hexo-rootï¼ˆä»¥ä¸‹å‡åœ¨è¯¥ç›®å½•ä¸‹è¿›è¡Œï¼‰ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/next-theme/hexo-theme-next themes/next themes/next</span><br></pre></td></tr></table></figure>
<p>next ä¸»é¢˜å°±è¢«ä¸‹è½½åˆ° themes æ–‡ä»¶å¤¹ä¸‹äº†ã€‚æ¥ä¸‹æ¥è®© hexo ä½¿ç”¨ next ä¸»é¢˜ï¼Œç¼–è¾‘ hexo çš„_config.yml æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt; vim _config.yml</span><br><span class="line">theme: next</span><br></pre></td></tr></table></figure>
<p>themes/next/_config.yml é‡Œé¢æ˜¯ next ä¸»é¢˜çš„é…ç½®ï¼Œå¯ä»¥åšä¸€äº›ä¸ªæ€§åŒ–é€‰æ‹©</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt;&gt; vim themes/next/_config.yml</span><br><span class="line">scheme: Mist</span><br><span class="line">highlight_theme: night eighties</span><br></pre></td></tr></table></figure>
<p>é‡æ–°æœ¬åœ°æµ‹è¯•ï¼Œå‘ç°å·²ç»å˜ä¸ºç®€çº¦çš„ next ä¸»é¢˜äº†ï¼</p>
<figure style="text-align:center">
    <img src="/2025/06/01/%E5%9F%BA%E4%BA%8EGithub-Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/next-origin.png" width="90%">
</figure>
<h2 id="æ±‰åŒ–">æ±‰åŒ–</h2>
<p>åœ¨ next ä¸»é¢˜ä¸­å¯ä»¥æ‰¾åˆ°å¾ˆå¤šè¯­è¨€åŒ…</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="built_in">ls</span>  themes/next/languages</span><br><span class="line">ar.yml  default.yml  es.yml  fr.yml  id.yml  ja.yml  nl.yml     pt.yml  tr.yml  vi.yml     zh-HK.yml    zh-TW.yml</span><br><span class="line">de.yml  en.yml       fa.yml  hu.yml  it.yml  ko.yml  pt-BR.yml  ru.yml  uk.yml  zh-CN.yml</span><br></pre></td></tr></table></figure>
<p>åœ¨ hexo çš„é…ç½®æ–‡ä»¶ä¸­å¯ç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt;&gt; vim _config.yml</span><br><span class="line">language: zh-CN</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥å¤åˆ¶ zh-CN ä¸ºåˆ«çš„åç§°ï¼Œå¦‚ zh-Hansï¼Œç„¶ååœ¨é‡Œé¢<b>è‡ªå®šä¹‰æ±‰åŒ–</b>ï¼Œå†è®¾ç½® language: zh-Hansã€‚</p>
<h2 id="åŸºæœ¬ç¤¾äº¤ä¿¡æ¯">åŸºæœ¬ç¤¾äº¤ä¿¡æ¯</h2>
<p>åšå®¢ç½‘ç«™å½“ç„¶éœ€è¦ä¸€äº›å¤´åƒã€ç¤¾äº¤ä»‹ç»ä¹‹ç±»çš„ä¿¡æ¯ã€‚</p>
<p>é¦–å…ˆåœ¨ hexo çš„é…ç½®æ–‡ä»¶ä¸­å¯ä»¥æ‰¾åˆ°ä¸€äº›é…ç½®ï¼ŒåŒ…æ‹¬åšå®¢åã€ä¸ªæ€§ç­¾åç­‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt; vim _config.yml</span><br><span class="line"><span class="comment"># Site</span></span><br><span class="line">title: æœ¨å­æ£®çš„åšå®¢ <span class="comment"># åšå®¢å</span></span><br><span class="line">subtitle: <span class="string">&#x27;&#x27;</span></span><br><span class="line">description: <span class="string">&#x27;every dog has its day&#x27;</span> <span class="comment"># ä¸ªæ€§ç­¾å</span></span><br><span class="line">keywords:</span><br><span class="line">author: æœ¨å­æ£® <span class="comment"># ä½œè€…å</span></span><br></pre></td></tr></table></figure>
<p>ç„¶åï¼Œåœ¨ next çš„é…ç½®æ–‡ä»¶ä¸­å¯ä»¥è®¾ç½®å¤´åƒçš„ url é…ç½®é¡¹ã€‚æ³¨æ„ next é…ç½®æ–‡ä»¶ä¸­çš„ url ç»å¯¹è·¯å¾„æ˜¯ä»¥å®ƒçš„ source æ–‡ä»¶å¤¹ä¸ºæ ¹çš„ï¼Œå³ themes/next/sourceï¼Œå› æ­¤éœ€è¦å°†å›¾ç‰‡æ”¾äº themes/next/source/images ä¸­ï¼Œç„¶åç”¨/images/your photo name æ¥å¼•ç”¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt; vim themes/next/_config.yml</span><br><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line">avatar:</span><br><span class="line">  <span class="comment"># Replace the default image and set the url here.</span></span><br><span class="line">  url: /images/citlali.png <span class="comment">#/images/avatar.gif</span></span><br><span class="line">  <span class="comment"># If true, the avatar will be dispalyed in circle.</span></span><br><span class="line">  rounded: <span class="literal">true</span></span><br><span class="line">  <span class="comment"># If true, the avatar will be rotated with the cursor.</span></span><br><span class="line">  rotated: <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ next çš„ config é‡Œé¢è¿˜èƒ½é…ç½®è”ç³»æ–¹å¼ï¼Œä»¥ä¾¿ç”¨æˆ·æœ‰é—®é¢˜å¯ä»¥è”ç³»åšä¸»</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">social:</span><br><span class="line">  GitHub: &lt;your github <span class="built_in">link</span>&gt; || fab fa-github</span><br><span class="line">  E-Mail: mailto:&lt;your email&gt; || fa fa-envelope</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼Œç½‘ç«™æœ‰äº†è‡ªå·±çš„ä¸ªäººä¿¡æ¯å±•ç¤º</p>
<figure style="text-align:center">
    <img src="/2025/06/01/%E5%9F%BA%E4%BA%8EGithub-Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/avatar.png" width="50%">
</figure>
<h2 id="æ‰“èµè®¾ç½®">æ‰“èµè®¾ç½®</h2>
<p>åœ¨ next çš„é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å¾®ä¿¡å’Œæ”¯ä»˜å®çš„æ”¶æ¬¾ç çš„ url é“¾æ¥ï¼Œæ³¨æ„å’Œä¹‹å‰çš„å¤´åƒä¸€æ ·ï¼Œæ”¾åœ¨ themes/next/source/images ä¸­ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt; vim themes/next/_config.yml</span><br><span class="line">reward_settings:</span><br><span class="line">  <span class="comment"># If true, reward will be displayed in every article by default.</span></span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  animation: <span class="literal">false</span></span><br><span class="line">  comment: <span class="string">&#x27;å†™çš„ä¸é”™ï¼Œèµä¸€ä¸ªï¼&#x27;</span> <span class="comment"># Donate comment here.</span></span><br><span class="line"></span><br><span class="line">reward:</span><br><span class="line">    wechatpay: /images/wechatpay.jpg</span><br><span class="line">    alipay: /images/alipay.jpg</span><br></pre></td></tr></table></figure>
<p>åœ¨æ–‡ç« æœ«å°¾æ–°å¢äº† Donateï¼Œç‚¹å‡»å³å¯å±•ç¤ºæ”¶æ¬¾ç é¡µé¢<figure style="text-align:center"><br>
<img src="/2025/06/01/%E5%9F%BA%E4%BA%8EGithub-Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/reward.png" width="50%"></figure></p>

<h2 id="èœå•æ è®¾ç½®">èœå•æ è®¾ç½®</h2>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œèœå•æ ä¸­åªæœ‰ Home å’Œ Archives ä¸¤é¡¹ã€‚é€šå¸¸åšå®¢è¿˜éœ€è¦è®¾ç½®ä¸Š categories, tags å’Œ about ä¸‰é¡¹ï¼Œå‰ä¸¤è€…ç”¨äºæ–‡ç« å®šä½ï¼Œåè€…ç”¨äºè‡ªæˆ‘ä»‹ç»ã€‚</p>
<p>æ‰§è¡Œ hexo new page å‘½ä»¤åˆ›å»ºæ ç›®é¡µé¢</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new page <span class="string">&quot;categories&quot;</span></span><br><span class="line">hexo new page <span class="string">&quot;tags&quot;</span></span><br><span class="line">hexo new page <span class="string">&quot;about&quot;</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¼šåœ¨ source/ç›®å½•ä¸‹ç”Ÿæˆå¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹åŒ…å«ä¸€ä¸ª <a href="http://index.md">index.md</a> æ–‡ä»¶ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œç¼–è¾‘ categories å’Œ tags çš„ <a href="http://index.md">index.md</a> æ–‡ä»¶ï¼Œæ·»åŠ å¯¹åº”çš„ç±»å‹å£°æ˜ï¼ˆå¦åˆ™ hexo ä¼šå°†ä»–ä»¬è§†ä¸ºæ™®é€šé¡µé¢ï¼Œæ— æ³•è‡ªåŠ¨å»ºç«‹æ–‡ç« çš„åˆ†ç±»å’Œæ ‡ç­¾ç´¢å¼•ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt; vim <span class="built_in">source</span>/categories/index.md</span><br><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line"><span class="built_in">date</span>: 2025-05-31 19:31:37</span><br><span class="line"><span class="built_in">type</span>: <span class="string">&quot;categories&quot;</span> <span class="comment"># æ–°å¢</span></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">&gt;&gt; vim <span class="built_in">source</span>/tags/index.md</span><br><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line"><span class="built_in">date</span>: 2025-05-31 19:31:43</span><br><span class="line"><span class="built_in">type</span>: <span class="string">&quot;tags&quot;</span></span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>åœ¨ç¼–è¾‘ next ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlï¼ˆé€šå¸¸æ˜¯ themes/next/_config.ymlï¼‰ï¼Œæ‰¾åˆ° menu éƒ¨åˆ†ï¼Œå–æ¶ˆè¿™ä¸‰é¡¹çš„æ³¨é‡Šï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || fa fa-home</span><br><span class="line">  archives: /archives/ || fa fa-archive</span><br><span class="line">  categories: /categories/ || fa fa-th</span><br><span class="line">  tags: /tags/ || fa fa-tags</span><br><span class="line">  about: /about/ || fa fa-user</span><br></pre></td></tr></table></figure>
<p>å¦‚æœé¡µé¢é€‰é¡¹çš„å›¾æ ‡æ˜¾ç¤ºå¤±è´¥ï¼Œå®‰è£…å›¾æ ‡</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-theme-next-font-icons</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œåšå®¢æœ‰äº†å®Œæ•´çš„å¯¼èˆªèœå•</p>
<figure style="text-align:center">
    <img src="/2025/06/01/%E5%9F%BA%E4%BA%8EGithub-Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/menu.png" width="80%">
</figure>
<h2 id="Post-è®¾ç½®">Post è®¾ç½®</h2>
<p>é‡‡ç”¨å¦‚ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ª post</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new åŸºäºGithub-Hexoæ­å»ºä¸ªäººåšå®¢</span><br></pre></td></tr></table></figure>
<p>åœ¨ source/_posts ä¸‹å¯ä»¥æ‰¾åˆ° <a href="http://testpage.md">testpage.md</a>ï¼Œå®é™…ä¸Šç›´æ¥åœ¨ source/_posts ä¸‹é¢åˆ›å»º md æ•ˆæœç›¸åŒã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt; vim <span class="built_in">source</span>/_posts/åŸºäºGithub-Hexoæ­å»ºä¸ªäººåšå®¢.md</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">title: åŸºäºGithub+Hexoæ­å»ºä¸ªäººåšå®¢</span><br><span class="line"><span class="built_in">date</span>: 2025-06-01 13:16:35</span><br><span class="line">categories: [blog, tutorial]</span><br><span class="line">tags: [hexo, next, github pages]</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">your content</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>categories å’Œ tags éœ€è¦æ‰‹åŠ¨æ·»åŠ ã€‚åªæœ‰ä¸€é¡¹æ—¶å°±ä¸ç”¨åˆ—è¡¨çš„å†™æ³•å•¦ï¼Œå¦‚ categories:blogã€‚</p>
<p>éƒ¨ç½²åé‡æ–°æ‰“å¼€ç½‘ç«™å³å¯ä»¥çœ‹åˆ°æ–‡ç« ï¼Œæ³¨æ„æ£€æŸ¥åˆ†ç±»å’Œæ ‡ç­¾æ˜¯å¦æˆåŠŸå»ºç«‹äº†ç´¢å¼•ã€‚</p>
<figure style="text-align:center">
    <img src="/2025/06/01/%E5%9F%BA%E4%BA%8EGithub-Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/categories.png" width="80%">
    <img src="/2025/06/01/%E5%9F%BA%E4%BA%8EGithub-Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/tags.png" width="80%">
</figure>
<h2 id="Post-å…³è”èµ„æºè®¾ç½®">Post å…³è”èµ„æºè®¾ç½®</h2>
<h3 id="æœ¬åœ°èµ„æºç®¡ç†">æœ¬åœ°èµ„æºç®¡ç†</h3>
<h4 id="å…¬å…±èµ„æºæ–‡ä»¶å¤¹ï¼ˆä¸æ¨èï¼‰">å…¬å…±èµ„æºæ–‡ä»¶å¤¹ï¼ˆä¸æ¨èï¼‰</h4>
<ul>
<li>åœ¨ <code>source/images/</code> å­˜æ”¾æ‰€æœ‰å›¾ç‰‡</li>
<li>Markdown å¼•ç”¨æ–¹å¼ï¼š<code>/images/photo.jpg</code>ï¼ˆä¸Šæ–‡æåˆ°è¿‡ï¼Œç¼–è¯‘å™¨ä¼šæŠŠ source è§†ä¸ºèµ„æºçš„æ ¹ç›®å½•ï¼‰</li>
<li>ç¼ºç‚¹ï¼šç§æœ‰èµ„æºå­˜åœ¨å…¬å…±åŒºï¼Œéšç€æ–‡æ¡£å¢å¤šéš¾ä»¥ç®¡ç†</li>
</ul>
<h4 id="æ–‡ç« ä¸“å±èµ„æºæ–‡ä»¶å¤¹ï¼ˆæ¨èï¼‰">æ–‡ç« ä¸“å±èµ„æºæ–‡ä»¶å¤¹ï¼ˆæ¨èï¼‰</h4>
<p>Hexo æä¾›äº†æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ - ä¸ºæ¯ç¯‡æ–‡ç« è‡ªåŠ¨åˆ›å»ºå…³è”èµ„æºå¤¹ã€‚å¯ç”¨è‡ªåŠ¨åˆ›å»ºåŠŸèƒ½ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt; vim _config.yml</span><br><span class="line">post_asset_folder: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">å¼•ç”¨æ–¹å¼ï¼š</span><br><span class="line">![å›¾ç‰‡è¯´æ˜](æ–‡ç« æ ‡é¢˜/photo.jpg)</span><br></pre></td></tr></table></figure>
<p>è¯¥æ–¹æ¡ˆå…·æœ‰å¦‚ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>èµ„æºä¸æ–‡ç« ä¸€ä¸€å¯¹åº”</li>
<li>ä¾¿äºæŸ¥æ‰¾å’Œç®¡ç†</li>
<li>è¿ç§»æ—¶ä¿æŒå®Œæ•´å…³è”</li>
</ul>
<h3 id="èµ„æºå¼•ç”¨è·¯å¾„è‡ªåŠ¨ä¿®æ­£">èµ„æºå¼•ç”¨è·¯å¾„è‡ªåŠ¨ä¿®æ­£</h3>
<p>å®‰è£…æ’ä»¶ hexo-asset-imageï¼Œåœ¨ç”ŸæˆæœåŠ¡é™æ€é¡µé¢æ—¶è‡ªåŠ¨å°†æœ¬åœ°èµ„æºå¼•ç”¨è·¯å¾„è½¬æ¢æˆæ­£ç¡®çš„çº¿ä¸ŠæœåŠ¡çš„è·¯å¾„ï¼Œå¾…çº¿ä¸Šéƒ¨ç½²åæ‰èƒ½æ­£ç¡®å¼•ç”¨ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install https://github.com/CodeFalling/hexo-asset-image --save</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå¦‚æœç²—å¿ƒç›´æ¥ <code>npm install hexo-asset-image</code> çš„è¯ï¼Œä¼šå‡ºé—®é¢˜ï¼Œè§<a href="#è§£å†³å›¾ç‰‡æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜">åæ–‡ç« èŠ‚-è§£å†³å›¾ç‰‡æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜</a></p>
<h2 id="ç«™å†…ç»Ÿè®¡åŠŸèƒ½">ç«™å†…ç»Ÿè®¡åŠŸèƒ½</h2>
<p>å¯ç”¨è®¿å®¢ç»Ÿè®¡</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt; vim themes/next/_config.yml</span><br><span class="line"></span><br><span class="line">busuanzi_count:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>å¢åŠ å­—æ•°ç»Ÿè®¡å’Œé˜…è¯»æ—¶å¸¸ç»Ÿè®¡</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt; npm install hexo-symbols-count-time --save</span><br><span class="line"></span><br><span class="line">&gt;&gt; vim themes/next/_config.yml</span><br><span class="line">symbols_count_time:</span><br><span class="line">  separated_meta: <span class="literal">true</span></span><br><span class="line">  item_text_post: <span class="literal">true</span></span><br><span class="line">  item_text_total: <span class="literal">false</span></span><br><span class="line">  symbols: <span class="literal">true</span></span><br><span class="line">  <span class="keyword">time</span>: <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>å‘å¸ƒæ–‡ç« åï¼Œå³å¯çœ‹åˆ°</p>
<figure style="text-align:center">
    <img src="/2025/06/01/%E5%9F%BA%E4%BA%8EGithub-Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/count.png" width="80%">
</figure>
<h2 id="ç«™å†…æœç´¢åŠŸèƒ½">ç«™å†…æœç´¢åŠŸèƒ½</h2>
<p>ä¸ºäº†æ”¯æŒæ ‡é¢˜å’Œå…¨æ–‡æ£€ç´¢ï¼Œç»™ç«™å†…å¢åŠ æœç´¢åŠŸèƒ½ã€‚ä¸‹è½½æœç´¢æ’ä»¶ï¼Œå¹¶å¯ç”¨ç›¸å…³é…ç½®é¡¹ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt; npm install hexo-generator-search --save</span><br><span class="line">&gt;&gt; npm install hexo-generator-searchdb --save</span><br><span class="line"></span><br><span class="line">&gt;&gt; vim _config.xml</span><br><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  <span class="built_in">limit</span>: 10000</span><br><span class="line"></span><br><span class="line">&gt;&gt; vim themes/next/_config.yml</span><br><span class="line">local_search:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  trigger: auto</span><br><span class="line">  top_n_per_article: 1</span><br><span class="line">  unescape: <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œå¯ä»¥è¿›è¡Œåšå®¢å†…çš„æ ‡è®°&amp;å…¨æ–‡æ£€ç´¢äº†</p>
<figure style="text-align:center">
    <img src="/2025/06/01/%E5%9F%BA%E4%BA%8EGithub-Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/search.png" width="80%">
</figure>
<h1>éƒ¨ç½²è‡³ Github</h1>
<h2 id="åŸç†">åŸç†</h2>
<p>æˆ‘ä»¬é‡‡ç”¨ GitHub Pages ä½œä¸ºå…¬æœ‰ç½‘ç»œéƒ¨ç½²å¹³å°ï¼Œå…¶æ ¸å¿ƒå·¥ä½œåŸç†å¦‚ä¸‹ï¼š</p>
<h3 id="ç‰¹æ®ŠåŠŸèƒ½çš„-Github-ä»“åº“">ç‰¹æ®ŠåŠŸèƒ½çš„ Github ä»“åº“</h3>
<p>GitHub å°†ç‰¹å®šå‘½åçš„ä»£ç ä»“åº“ï¼ˆæ ¼å¼ï¼š<username>.github.io æˆ–<orgname>.github.ioï¼‰è‡ªåŠ¨è¯†åˆ«ä¸º Pages æœåŠ¡æº<br>
è¯¥ä»“åº“ master/main æˆ– gh-pages åˆ†æ”¯çš„å†…å®¹å°†è¢«è‡ªåŠ¨å‘å¸ƒè‡³ https://<username>.github.io åŸŸå</username></orgname></username></p>
<h3 id="Hexo-é›†æˆæœºåˆ¶">Hexo é›†æˆæœºåˆ¶</h3>
<p>æœ¬åœ° hexo-root é¡¹ç›®é€šè¿‡ git remote ä¸ GitHub Pages ä¸“ç”¨ä»“åº“å»ºç«‹å…³è”</p>
<ol>
<li>æ‰§è¡Œ hexo generateï¼š</li>
</ol>
<ul>
<li>ç”Ÿæˆåšå®¢æœåŠ¡çš„é™æ€æ–‡ä»¶åˆ° public ç›®å½•</li>
<li>è‡ªåŠ¨æ³¨å…¥ GitHub Pages æ‰€éœ€çš„ CNAME ç­‰é…ç½®æ–‡ä»¶</li>
</ul>
<ol start="2">
<li>æ‰§è¡Œ hexo deployï¼š</li>
</ol>
<ul>
<li>é€šè¿‡ hexo-deployer-git æ’ä»¶å°† public ç›®å½•å†…å®¹æ¨é€è‡³éƒ¨ç½²åˆ†æ”¯</li>
<li>ä¿ç•™ commit history çš„åŒæ—¶æ›´æ–°ç½‘ç«™å†…å®¹</li>
</ul>
<h3 id="Github-è‡ªåŠ¨åŒ–å‘å¸ƒ">Github è‡ªåŠ¨åŒ–å‘å¸ƒ</h3>
<p>GitHub çš„æ„å»ºç³»ç»Ÿä¼šåœ¨æ£€æµ‹åˆ°è¯¥ç‰¹æ®Šä»“åº“çš„ç‰¹å®šåˆ†æ”¯æ›´æ–°åï¼Œä¼šåœ¨ 1-3 åˆ†é’Ÿå†…å®Œæˆå…¨çƒ CDN èŠ‚ç‚¹çš„åšå®¢æœåŠ¡å†…å®¹åˆ†å‘ã€‚æˆ‘ä»¬å°±å¯ä»¥åœ¨ <code>https://&lt;username&gt;.github.io</code> ä¸Šçœ‹åˆ°æˆ‘ä»¬çš„åšå®¢äº†ï¼</p>
<h2 id="ä»“åº“åˆ›å»º">ä»“åº“åˆ›å»º</h2>
<p>åˆ›å»º git repository: <code>https://github.com/&lt;your username&gt;.github.io</code>ã€‚æ³¨æ„ä¸¤ç‚¹ï¼š</p>
<ul>
<li>repository åä¸€å®šè¦ä¸º github çš„åå­—ã€‚</li>
<li>æŠŠâ€Initialize this repository with a READMEâ€å‹¾é€‰ä¸Šã€‚</li>
</ul>
<p>æ­¤å¤–ï¼Œè‹¥ Github è¿˜æ²¡æœ‰è‡ªåŠ¨å…³è”æœ¬åœ°çš„å¯†é’¥ï¼Œå…ˆç”Ÿæˆ key pair å¹¶å…³è” Github è´¦æˆ·ï¼Œç›¸å…³æ•™ç¨‹å¯å‚è€ƒ <a href="https://www.cnblogs.com/yessn/p/16295806.html">Github é…ç½® ssh key çš„æ­¥éª¤</a></p>
<h2 id="Hexo-å…³è”ä»“åº“">Hexo å…³è”ä»“åº“</h2>
<p>åœ¨é…ç½®æ–‡ä»¶ä¸­ç¼–è¾‘å…³è”çš„ Github ä»“åº“</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config.yml</span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: git@github.com:&lt;your-name&gt;/&lt;your-name&gt;.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<h2 id="Deploy">Deploy</h2>
<p>ç¬¬ä¸€æ¬¡ deployï¼Œéœ€è¦å…ˆå®‰è£… hexo-deployer-gitï¼ˆåªç¬¬ä¸€æ¬¡ deploy ä¹‹å‰æ‰§è¡Œï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢å°±å¯ä»¥ deploy äº†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy</span><br></pre></td></tr></table></figure>
<p>å’Œä¹‹å‰æ‰€å±çš„åŸç†ä¸€è‡´ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ¡å‘½ä»¤ï¼šåˆ é™¤æœ¬åœ°ç”Ÿæˆçš„é™æ€é¡µé¢ï¼›</li>
<li>ç¬¬äºŒæ¡å‘½ä»¤ï¼šæ ¹æ® source/_posts <a href="http://xn--ghqq00hg2v.md">ä¸‹é¢çš„.md</a> æ–‡ä»¶ï¼Œä»¥åŠä¸»é¢˜ç­‰ï¼Œé‡æ–°ç”Ÿæˆé™æ€é¡µé¢ï¼›</li>
<li>ç¬¬ä¸‰æ¡å‘½ä»¤ï¼šæŠŠç¬¬äºŒæ­¥ç”Ÿæˆçš„é™æ€é¡µé¢ä¸Šä¼ åˆ° githubã€‚</li>
</ul>
<p>ç°åœ¨ï¼Œåšå®¢å°±ç”Ÿæˆäº†ï¼šhttp://{your-name}.github.io</p>
<h1>åŸºäº Gitalk çš„è¯„è®ºåŒºè®¾ç½®</h1>
<p>è°ƒç ”äº†ä¸€äº›è¯„è®ºåŒºç³»ç»Ÿï¼Œç»¼åˆä¾¿åˆ©æ€§å’Œå®ç”¨æ€§ï¼Œè€ƒè™‘é€‰æ‹© <a href="https://github.com/snowdreams1006/hexo-plugin-gitalk">Gitalk</a>ã€‚Gitalk å·§å¦™åœ°å°† GitHub Issues è½¬åŒ–ä¸ºåšå®¢è¯„è®ºåŒºï¼æ¯ä¸ªåšå®¢æ–‡ç« è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ Issue ä½œä¸ºè¯„è®ºåŒºï¼Œå®Œç¾åˆ©ç”¨ GitHub Pages ä»“åº“çš„ Issue åŠŸèƒ½ï¼ˆå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ–°å»ºä¸“ç”¨ä»“åº“ï¼‰ï¼Œéå¸¸æ–¹ä¾¿ç›´è§‚ï¼Œä¹Ÿä¸éœ€è¦æ³¨å†Œä»€ä¹ˆåˆ«çš„è´¦æˆ·äº†ã€‚</p>
<h2 id="å®‰è£…æ’ä»¶">å®‰è£…æ’ä»¶</h2>
<p>å®‰è£…æ’ä»¶ hexo-plugin-gitalk</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-plugin-gitalk --save</span><br></pre></td></tr></table></figure>
<h2 id="Github-OAuth-App-åˆ›å»º">Github OAuth App åˆ›å»º</h2>
<p>Gitalk æœ¬è´¨æ˜¯é€šè¿‡ GitHub API ä¸ä½ çš„ä»“åº“äº¤äº’ï¼Œè€Œæ‰€æœ‰ç¬¬ä¸‰æ–¹åº”ç”¨è®¿é—® GitHub æ•°æ®éƒ½éœ€è¦<strong>å®‰å…¨æˆæƒ</strong>ã€‚OAuth App å°±åƒæ˜¯ç»™éƒ¨ç½²çš„åšå®¢é¢å‘äº†ä¸€å¼ ä¸“å±ã€Œè®¿å®¢å¡ã€ï¼Œç”¨äºèº«ä»½è®¤è¯ã€æƒé™æ§åˆ¶å’Œç”¨æˆ·å®‰å…¨ç®¡ç†ã€‚å› æ­¤ï¼Œåªæœ‰ç»™ OAuth Appã€Œè®¿å®¢å¡ã€åšå®¢çš„ç½‘å€ï¼ŒåŒæ—¶ç»™åšå®¢è¿™ä¸ª OAuth App ã€Œè®¿å®¢å¡ã€çš„ client_id å’Œ clientSecretï¼Œåšå®¢æœåŠ¡æ‰èƒ½è°ƒç”¨ Github API è¯»å†™ä»“åº“çš„ Issue</p>
<p>è®¿é—® <a href="https://github.com/settings/developers">GitHub Developer Settings</a> â†’ â€œOAuth Appsâ€ â†’ â€œNew OAuth Appâ€</p>
<p>å¡«å†™åŸºæœ¬ä¿¡æ¯ï¼Œä¸»è¦åŒ…æ‹¬å››é¡¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Application name: OAuth Appçš„åº”ç”¨å <span class="comment"># ä»»æ„ï¼Œå¦‚Blog Commentæˆ–è€…ä½ çš„åšå®¢åç­‰</span></span><br><span class="line">Homepage URL: ä½ çš„åšå®¢åœ°å€ <span class="comment"># https://username.github.io</span></span><br><span class="line">Application description <span class="comment"># ä»»æ„æè¿°</span></span><br><span class="line">Authorization callback URL: åŒä¸Š <span class="comment"># https://username.github.io</span></span><br></pre></td></tr></table></figure>
<p><b>åˆ›å»ºåè®°å½•ä¸‹<code>Client ID</code>å’Œ<code>Client Secret</code>ï¼ˆç‚¹å‡» Generate ç”Ÿæˆï¼‰</b>ï¼Œæ³¨æ„ Client Secret åªä¼šå±•ç¤ºä¸€æ¬¡ï¼</p>
<h2 id="æœ¬åœ°é…ç½®">æœ¬åœ°é…ç½®</h2>
<p>ä¿®æ”¹æˆ–æ–°å¢ themes/next/_config.yml ä¸­çš„ Gitalk é…ç½®</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gitalk:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span> <span class="comment"># å¼€å¯è¯„è®º</span></span><br><span class="line">  github_id: <span class="string">&quot;ä½ çš„Githubè´¦æˆ·å&quot;</span> <span class="comment"># ä½ çš„GitHubç”¨æˆ·å</span></span><br><span class="line">  repo: <span class="string">&quot;ä½ çš„ä»“åº“å&quot;</span>  <span class="comment"># å¦‚&quot;username.github.io&quot;</span></span><br><span class="line">  clientID: <span class="string">&quot;ä½ çš„Client ID&quot;</span>  <span class="comment"># â† å¿…å¡«ï¼ŒOAuth Appçš„Id</span></span><br><span class="line">  clientSecret: <span class="string">&quot;ä½ çš„Client Secret&quot;</span>  <span class="comment"># â† å¿…å¡«ï¼ŒOAuth App ç”Ÿæˆçš„Secret key</span></span><br><span class="line">  owner: <span class="string">&quot;GitHubç”¨æˆ·å&quot;</span> <span class="comment"># ä½ çš„GitHubç”¨æˆ·å</span></span><br><span class="line">  admin: [<span class="string">&quot;Githubç”¨æˆ·å&quot;</span>]  <span class="comment"># å¯ç®¡ç†è¯„è®ºçš„Githubè´¦å·</span></span><br><span class="line">  distraction_free_mode: <span class="literal">true</span> <span class="comment"># ç±» Facebook çš„è¯„è®ºåŒºè’™ç‰ˆèšç„¦æ¨¡å¼</span></span><br><span class="line">  proxy: https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token <span class="comment"># å®˜æ–¹ proxy åœ°å€</span></span><br><span class="line">  language: <span class="string">&quot;zh-CN&quot;</span>  <span class="comment"># æ”¯æŒå¤šè¯­è¨€</span></span><br></pre></td></tr></table></figure>
<h2 id="æµ‹è¯•">æµ‹è¯•</h2>
<p>åˆ›å»ºæµ‹è¯•æ–‡ç« ï¼Œç„¶ååšè¯„è®ºåŒºæµ‹è¯•ï¼š</p>
<ul>
<li>éƒ¨ç½²åæ‰“å¼€æµ‹è¯•æ–‡ç« </li>
<li>åˆå§‹åŒ–è¯„è®ºåŒº</li>
<li>é¦–æ¬¡ä½¿ç”¨ä¼šæç¤ºæˆæƒ GitHub ç™»å½•</li>
<li>å°è¯•å‘è¡¨æµ‹è¯•è¯„è®º â†’ å‘ç°å…¶è‡ªåŠ¨åœ¨ä»“åº“ Issues ç”Ÿæˆå¯¹åº”è¯é¢˜ï¼ŒæˆåŠŸæŒä¹…åŒ–è¯„è®ºåŒº</li>
</ul>
<p>ç°åœ¨ä½ çš„åšå®¢å°±æ‹¥æœ‰ä¸€ä¸ªæ°¸ä¸ä¸¢å¤±çš„ GitHub çº§è¯„è®ºåŒºå•¦ï¼ğŸ‰</p>
<h1>é—®é¢˜æ’æŸ¥</h1>
<h2 id="è¯„è®ºåŒº-Error">è¯„è®ºåŒº Error</h2>
<h3 id="Error-Bad-credentials">Error Bad credentials</h3>
<p>åœ¨<a href="https://blog.csdn.net/qq_38463737/article/details/120288329">Gridea é…ç½® Gitalk çš„å¼‚å¸¸ï¼šError Bad credentials å’Œ Error Not Found</a>ä¸­æ‰¾åˆ°äº†è§£å†³åŠæ³•ã€‚</p>
<p>åŸå› çœ‹èµ·æ¥æ˜¯ Github çš„ OAuth App è¦ io username å¤§å°å†™ã€‚æˆ‘çš„ Github çš„ username ä¸­æœ‰å¤§å†™ï¼ˆ<a href="http://SakuraILU.github.io">SakuraILU.github.io</a>ï¼‰ï¼Œä½†æµè§ˆå™¨é‡Œå¤åˆ¶ä¸‹æ¥çš„ç½‘å€æ˜¯çº¯å°å†™çš„ï¼ˆ<a href="http://sakurailu.github.io">sakurailu.github.io</a>ï¼‰ï¼Œç›´æ¥ç»™ copy åˆ° OAuth App é‡Œäº†ï¼Œå¯¼è‡´ Github æ£€ç´¢å¤±è´¥ã€‚</p>
<p>ä¿®æ”¹æ–¹æ³•ï¼šEdit OAuth Appï¼ŒæŠŠé‡Œé¢çš„ Homepage URL å’Œ Authorization callback URL çš„ username å¤§å°å†™ä¿®æ­£å›æ¥ã€‚</p>
<h3 id="Error-Not-Found">Error: Not Found</h3>
<p>è‡ªå·±ä½œæ­»ï¼Œè§‰ç€ themes/next/_config.yml ä¸­çš„ Gitalk é…ç½®ä¸­çš„ github_id å’Œ owner é‡å¤äº†ï¼Œåˆ äº†å‰è€…ï¼Œè¯„è®ºåŒºå°±é™¤äº†è¿™ä¸ªé”™è¯¯ hh å¯èƒ½æ˜¯ Gitalk åœ¨ä¸åŒé˜¶æ®µç”¨ä¸åŒçš„å­—æ®µæ¥æŸ¥æ‰¾å§ï¼Œè¡¥å›æ¥å°±æˆã€‚</p>
<h2 id="å±è”½éƒ¨åˆ†è¯„è®ºåŒº">å±è”½éƒ¨åˆ†è¯„è®ºåŒº</h2>
<p>æ³¨æ„åˆ° categoriesã€tags å’Œ about è¿™äº› pages ä¸­å­˜åœ¨è¯„è®ºåŒºï¼Œå¾ˆå¥‡æ€ªï¼Œéœ€è¦å±è”½ã€‚åœ¨<a href="https://blog.csdn.net/Damon___/article/details/79122064">æ•™ç¨‹</a>ä¸­æ‰¾åˆ°äº†æ–¹æ³•ï¼Œåªéœ€è¦åœ¨ source/about/index.mdï¼Œsource/categories/index.mdï¼Œsource/tags/index.md çš„ header ä¸­åŠ å…¥ comments: false æ¡ç›®ï¼Œè¿™æ ·ï¼Œè¿™äº›é¡µé¢å°±æ²¡æœ‰è¯„è®ºåŒºäº†ï¼Œå¯¹åº”åœ°ï¼Œä»“åº“é‡Œä¹Ÿæ²¡æœ‰ç›¸åº”çš„ Issue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt;&gt; vim source/tags/index.md</span><br><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 2025-05-31 19:31:43</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">comments: false # æ–°å¢</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>å…¶ä»–æ™®é€šçš„ post åŒç†ã€‚</p>
<h2 id="è§£å†³å›¾ç‰‡æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜">è§£å†³å›¾ç‰‡æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜</h2>
<p>åšå®¢å‘å¸ƒåæ— æ³•æ˜¾ç¤ºå›¾ç‰‡ï¼Œå¾ˆå¥‡æ€ªï¼Œäºæ˜¯æ’æŸ¥äº†ä¸€é˜µå­ã€‚Github ä»“åº“é‡Œçš„ä»£ç å°±æ˜¯ hexo-root/public ä¸­çš„ä»£ç ï¼Œå‘ç° Post ç½‘é¡µçš„ index.html ä¸­ç”Ÿæˆçš„å¼•ç”¨å¹¶æ²¡æœ‰æ­£ç¡®ç´¢å¼•åˆ°å›¾ç‰‡çš„åœ°å€ï¼hexo generate åï¼Œåœ¨æœ¬åœ°çš„ public æ–‡ä»¶å¤¹ï¼ˆæˆ–è€…å† hexo deploy åå» Github ä»“åº“é‡Œçœ‹ï¼‰ï¼Œå›¾ç‰‡çš„æ”¾ç½®çš„è·¯å¾„åœ¨/2025/06/01/åŸºäº Github-Hexo æ­å»ºä¸ªäººåšå®¢/landscape.pngï¼Œä½†å¯¹åº”æ–‡ç« çš„ index.html é‡Œå¼•ç”¨çš„è·¯å¾„å´æ˜¯&lt;img src=â€œ06/01/%E5%9F%BA%E4%BA%8EGithub-Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/landscape.pngâ€ width=â€œ90%â€&gt;ã€‚ä¹±ç æ˜¯ä¸­æ–‡ç¼–ç çš„å…³ç³»ï¼Œä¸ç”¨ç®¡ï¼Œä½†å¾ˆæ˜æ˜¾çš„ä¸€ä¸ªé—®é¢˜æ˜¯ç”Ÿæˆçš„è·¯å¾„å°‘äº†å‰é¢çš„â€œ/2025â€ï¼Œå½“ç„¶ç´¢å¼•ä¸åˆ°äº†ï¼</p>
<p>æŸ¥é˜…äº†ä¸€äº›æ–‡æ¡£ï¼Œå‘ç°æœ‰äººæåˆ°æ˜¯ hexo-asset-image çš„ç‰ˆæœ¬é—®é¢˜ï¼Œé‡æ–°å®‰è£…å³å¯è§£å†³</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm uninstall hexo-asset-image</span><br><span class="line">npm install https://github.com/CodeFalling/hexo-asset-image --save</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Blog</category>
        <category>Tutorial</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Nextä¸»é¢˜</tag>
        <tag>Github Pages</tag>
      </tags>
  </entry>
  <entry>
    <title>Pytorchè¯¦ç»†å®‰è£…æ•™ç¨‹</title>
    <url>/2025/07/14/Pytorch%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<p>é‡åˆ°é¡¹ç›®éœ€è¦ç”¨åˆ°å¼ºåŒ–å­¦ä¹ çš„å†…å®¹ï¼Œè‡ªå·±çš„ç³»ç»Ÿä¹‹å‰ç»™é‡è£…äº†ï¼ŒPytorch æ²¡äº†ï¼Œé‡æ–°å®‰è£…ä¸€éï¼ˆè‹¦é€¼ï¼‰â€¦å› ä¸ºè‡ªå·±ä»¥åŠå¸®åˆ«äººå‰åè£…è¿‡å‡ æ¬¡ï¼Œæ¯æ¬¡éƒ½å¾—æŸ¥æ¥æŸ¥å»ï¼Œè¿™æ¬¡å†³å®šé¡ºæ‰‹è®°å½•ä¸€ä¸‹ä»é›¶å¼€å§‹çš„å®‰è£…æµç¨‹ï¼Œä»¥é˜²ä¸‡ä¸€ã€‚</p>
<span id="more"></span>
<h1>å„ç»„ä»¶ç‰ˆæœ¬ä¾èµ–å…³ç³»</h1>
<p>åŸºäº GPU çš„æ·±åº¦å­¦ä¹ çš„æ¶æ„æ˜¯ï¼š</p>
<ol>
<li>ç³»ç»Ÿåº•å±‚æ˜¯æ”¯æŒå›¾åƒæ˜¾ç¤ºå’Œå¹¶è¡Œè¿ç®—çš„ GPUï¼Œæˆ‘ä»¬åœ¨å…¶ä¸Šå®‰è£…äº†æ˜¾å¡é©±åŠ¨ç”¨äºè¯»å†™æ˜¾å¡ï¼ˆä¸€èˆ¬è£…ç³»ç»Ÿéƒ½ä¼šå®‰è£…ï¼Œç”¨äºå›¾åƒæ˜¾ç¤ºï¼‰;</li>
<li>æŠŠæ˜¾å¡é©±åŠ¨çš„è®¡ç®—èƒ½åŠ›æŠ½è±¡æˆäº†æ”¯æŒå¹¶è¡Œè®¡ç®—çš„ CUDA åº“;</li>
<li>åœ¨ CUDA Toolkit çš„åŸºç¡€ä¸Šå¼€å‘äº†ä¸“é—¨ç”¨äºåŠ é€Ÿæ·±åº¦å­¦ä¹ ç½‘ç»œçš„ cuDNNã€‚</li>
<li>æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼ˆPytorch/Tensorflow ç­‰ï¼‰ä¾èµ– CUDA çš„å¹¶è¡Œè¿ç®—èƒ½åŠ›å®ç°å¤§è§„æ¨¡è®­ç»ƒ/æ¨ç†ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ cuDNN åŠ é€Ÿæ·±åº¦ç½‘ç»œå­¦ä¹ ï¼ˆå¯é€‰ï¼‰;</li>
</ol>
<figure style="text-align:center">
    <img src="/2025/07/14/Pytorch%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/architecture.png" width="100%">
</figure>
<p>åŸºäºä¸Šè¿°æ€è·¯ï¼ŒGPUï¼Œé©±åŠ¨ï¼ŒCUDAï¼ŒcuDNN ä¹‹é—´çš„ç‰ˆæœ¬ç¡®å®šæ–¹æ³•ä¸ºï¼šGPU ç¡¬ä»¶å†³å®šé©±åŠ¨ç‰ˆæœ¬çš„ä¸Šé™ï¼ˆæœ‰é™å‘åå…¼å®¹ï¼‰ï¼Œé©±åŠ¨ç‰ˆæœ¬å†³å®šäº† CUDA Toolkit çš„ä¸Šé™ï¼ˆæœ‰é™å‘åå…¼å®¹ï¼‰ï¼ŒCUDA Toolkit å†³å®šäº† cuDNN çš„ä¸Šé™ï¼ˆæœ‰é™å‘åå…¼å®¹ï¼‰å’Œ Pytorch çš„ä¸Šé™ï¼ˆæœ‰é™å‘åå…¼å®¹ï¼‰ã€‚</p>
<p>æ¯”è¾ƒå¹¸è¿æ˜¯çš„ï¼Œè‡ª 2020 å¹´èµ·ï¼ŒPytorch å¼€å§‹è‡ªå¸¦äº†åšè®­ç»ƒ/æ¨ç†æ‰€éœ€è¦çš„ CUDA Toolkit è¿è¡Œæ—¶å­é›† å’Œ cuDNN è¿è¡Œæ—¶å­é›†! å¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘çš„ç‰ˆæœ¬é—®é¢˜äº†ï¼</p>
<p>ä¸è¿‡å¦‚æœæƒ³è¦è‡ªå·±å¼€å‘å’Œè°ƒè¯•è‡ªå®šä¹‰ CUDA ç®—å­ç­‰ï¼Œå°±å¾—è€è€å®å®è‡ªå·±å®‰è£…ç³»ç»Ÿæœ¬æœºçš„å®Œæ•´ç‰ˆ CUDA Toolkitï¼ˆä»¥åŠ cuDNNï¼‰å’¯ã€‚<b>ä¸¥æ ¼æ¥è¯´ï¼Œæœ¬æœºçš„ CUDA å’Œ Pytorch çš„ CUDA æ²¡å•¥ä¾èµ–å…³ç³»ï¼Œæ‰€ä»¥ç‰ˆæœ¬ä¸éœ€è¦ä¸€è‡´ï¼Œåªè¦æ»¡è¶³é©±åŠ¨è¦æ±‚å³å¯ã€‚ä½†å¼€å‘å‡ºæ¥çš„ CUDA ç®—å­æ€»å½’è¿˜æ˜¯è¦ Pytorch è·‘å§ï¼Œå®ƒç”¨è‡ªå¸¦çš„ CUDA åº“è¿è¡Œè¿™äº›ç®—å­ï¼Œæœ€å¥½è¿˜æ˜¯è£…æˆä¸€æ ·çš„ CUDA ç‰ˆæœ¬å§ã€‚</b></p>
<p>BUTï¼Œè™½è¯´æˆ‘åªåšåšè®­ç»ƒ/æ¨ç†ï¼Œä½†ç”±äºæƒ¯æ€§æ€ç»´ï¼Œä»ç„¶å…ˆå…¥ä¸ºä¸»åœ°èŠ±äº†æ—¶é—´å®‰è£…ç³»ç»Ÿ CUDAï¼Œåæ¥æ‰å‘ç°å®Œå…¨ä¸éœ€è¦ T^T</p>
<h1>å®‰è£… CUDA Toolkit ï¼ˆOptionalï¼ï¼‰</h1>
<h2 id="å‰ç½®æ¡ä»¶">å‰ç½®æ¡ä»¶</h2>
<p>æœ¬æœºçš„çŠ¶å†µï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&gt; &gt; uname -a ï¼ˆæŒ‡ä»¤é›†æ¶æ„ï¼‰</span><br><span class="line">&gt; &gt; Linux lky-laptop 6.8.0-55-generic #57-Ubuntu SMP PREEMPT_DYNAMIC Wed Feb 12 23:42:21 UTC 2025 x86_64 x86_64 x86_64 GNU/Linux</span><br><span class="line"></span><br><span class="line">&gt; &gt; lsb_release -a ï¼ˆç³»ç»Ÿç‰ˆæœ¬ï¼‰</span><br><span class="line">&gt; &gt; No LSB modules are available.</span><br><span class="line">&gt; &gt; Distributor ID: Linuxmint</span><br><span class="line">&gt; &gt; Description: Linux Mint 22.1</span><br><span class="line">&gt; &gt; Release: 22.1</span><br><span class="line">&gt; &gt; Codename: xia</span><br><span class="line"></span><br><span class="line">&gt; &gt; nvidia-smi ï¼ˆGPU é©±åŠ¨æ”¯æŒçš„ CUDA ç‰ˆæœ¬ï¼‰</span><br><span class="line">&gt; &gt; Mon Jul 14 18:56:44 2025</span><br><span class="line">&gt; &gt; +-----------------------------------------------------------------------------------------+</span><br><span class="line">&gt; &gt; | NVIDIA-SMI 550.120 Driver Version: 550.120 CUDA Version: 12.4 |</span><br><span class="line">&gt; &gt; ...</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œç”µè„‘æ˜¯ x86-64 æŒ‡ä»¤é›†æ¶æ„ï¼ŒOS æ˜¯ Linux Mint 22.1 (å¯¹åº” Ubuntu 22.04)ï¼Œæ˜¾å¡é©±åŠ¨<b>æœ€é«˜æ”¯æŒåˆ° CUDA 12.4</b></p>
<p>å¦‚æœæ²¡æœ‰å®‰è£… CUDAï¼Œè¯·æŸ¥è¯¢ç›¸å…³æ•™ç¨‹ã€‚Linux Mint ç³»ç»Ÿå®‰è£…çš„æ—¶å€™è®°å¾—æœ‰è‡ªåŠ¨å®‰è£… NVdia æ˜¾å¡é©±åŠ¨ï¼Œè‡ªå·±åº”è¯¥æ˜¯é‚£æ—¶å€™è£…ä¸Šçš„ã€‚</p>
<h2 id="å®‰è£…-Toolkit">å®‰è£… Toolkit</h2>
<p>è¿›å…¥<a href="https://developer.nvidia.com/cuda-toolkit-archive">NVdia å®˜ç½‘</a>ï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰å†å²ç‰ˆæœ¬çš„ CUDA Toolkitï¼ˆåŒ…æ‹¬æœ€æ–°å’Œæ—§ç‰ˆï¼‰ã€‚æ‰¾åˆ°ç›®æ ‡ç‰ˆæœ¬ CUDA Toolkit 12.4ï¼Œè¿›å…¥å®‰è£…é¡µé¢ã€‚</p>
<p>æŒ‰<a href="#å‰ç½®æ¡ä»¶">å‰æ–‡</a>æŸ¥åˆ°çš„ç³»ç»Ÿç±»å‹é€‰æ‹©ï¼ŒLinux-x86-64-Ubuntu-22.04ï¼Œé€‰æ‹© local å®‰è£…ã€‚</p>
<figure style="text-align:center">
    <img src="/2025/07/14/Pytorch%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/install_cuda.png" width="80%">
</figure>
<p>é¡µé¢ä¸‹æ–¹ç»™å‡ºäº†ä¸€å †å®‰è£…å‘½ä»¤ï¼Œå…¨éƒ¨æ‰§è¡Œå³å¯ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/cuda-ubuntu2204.pin</span><br><span class="line">sudo mv cuda-ubuntu2204.pin /etc/apt/preferences.d/cuda-repository-pin-600</span><br><span class="line">wget https://developer.download.nvidia.com/compute/cuda/12.4.0/local_installers/cuda-repo-ubuntu2204-12-4-local_12.4.0-550.54.14-1_amd64.deb</span><br><span class="line">sudo dpkg -i cuda-repo-ubuntu2204-12-4-local_12.4.0-550.54.14-1_amd64.deb</span><br><span class="line">sudo cp /var/cuda-repo-ubuntu2204-12-4-local/cuda-\*-keyring.gpg /usr/share/keyrings/</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get -y install cuda-toolkit-12-4</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="é—®é¢˜æ’æŸ¥ï¼šAPT-æ— æ³•-locate-CUDA-Toolkit">é—®é¢˜æ’æŸ¥ï¼šAPT æ— æ³• locate CUDA Toolkit</h2>
<p>å®‰è£…çš„æ—¶å€™é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œæ‰§è¡Œæœ€åä¸€æ¡å‘½ä»¤çš„æ—¶å€™é‡åˆ°äº†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&gt; &gt; sudo apt-get -y install cuda-toolkit-12-4</span><br><span class="line">&gt; &gt; Reading package lists... Done</span><br><span class="line">&gt; &gt; Building dependency tree... Done</span><br><span class="line">&gt; &gt; Reading state information... Done</span><br><span class="line">&gt; &gt; E: Unable to locate package cuda-toolkit-12-4</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>é‡æ–°æ‰§è¡Œäº†å‡ æ¬¡ä¸Šè¿°ä¸€å †å‘½ä»¤ï¼Œä»ç„¶æ— æ•ˆ T^T</p>
<p>ä¸ºäº†æ’è§£é—®é¢˜ï¼Œé¦–å…ˆçœ‹çœ‹ apt é‡Œæœ‰å“ªå„¿äº› cuda ç›¸å…³çš„åŒ…ã€‚äºæ˜¯æˆ‘è¾“å…¥ <code>sudo apt install -y cuda- </code>åï¼ŒæŒ‰ Tab é”®è¿›è¡Œè‡ªåŠ¨è¡¥å…¨æç¤ºï¼ˆoh-my-zsh çš„å¾ˆæ–¹ä¾¿çš„ä¸€ä¸ªæ’ä»¶ï¼‰ï¼Œå¾—åˆ°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&gt; &gt; sudo apt install -y cuda-[é”®å…¥ Tab]</span><br><span class="line">&gt; &gt; sudo apt install -y cuda-[è¿›è¡Œ tab æç¤º]</span><br><span class="line">&gt; &gt; cuda-drivers-fabricmanager-450 cuda-drivers-fabricmanager-535</span><br><span class="line">&gt; &gt; cuda-drivers-fabricmanager-460 cuda-drivers-fabricmanager-550</span><br><span class="line">&gt; &gt; cuda-drivers-fabricmanager-470 cuda-drivers-fabricmanager-565</span><br><span class="line">&gt; &gt; cuda-drivers-fabricmanager-510 cuda-drivers-fabricmanager-570</span><br><span class="line">&gt; &gt; cuda-drivers-fabricmanager-515 cuda-repo-ubuntu2204-12-4-local</span><br><span class="line">&gt; &gt; cuda-drivers-fabricmanager-525</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åªæœ‰å¦‚ä¸Šå…¨éƒ¨å†…å®¹ï¼Œå¯ä»¥çœ‹åˆ°æ²¡æœ‰ cuda toolkit çš„åŒ…ï¼Œä½†å¥‡æ€ªçš„æ˜¯ï¼Œæœ‰ä¸€å † cuda-dirvers å’Œä¸€ä¸ª<b>cuda-repo-ubuntu2204-12-4-local</b>ï¼Œæ„Ÿè§‰ CUDA ä»“åº“åŠ è½½äº†ä½†æ²¡å®Œå…¨åŠ è½½â€¦</p>
<p>ä¸ç®¡å’‹è¯´ï¼Œä¹‹åé‡æ–°æï¼Œæ€»å¾—å…ˆæŠŠç°åœ¨è¿™ä¸ªåŠæ®‹ä»“åº“æ¸…é™¤æ‰ï¼Œä¸ç„¶æ—§ä»“åº“å¯èƒ½ä¼šå’Œæ–°ä»“åº“äº§ç”Ÿä¼˜å…ˆçº§å†²çªï¼Œæ­¤å¤– apt update ä¹Ÿæœ‰å¯èƒ½ä»ä½¿ç”¨æ—§ç¼“å­˜ï¼Œæ‰¾ä¸åˆ°æ–°åŒ…â€¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡Œæ¸…é™¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">## æ¸…ç†æ—§ä»“åº“</span><br><span class="line"></span><br><span class="line">sudo dpkg -P cuda-repo-ubuntu2204-12-4-local # å¸è½½æ—§ä»“åº“åŒ…</span><br><span class="line">sudo rm -rf /var/cuda-repo-\* # åˆ é™¤æ®‹ç•™å…ƒæ•°æ®</span><br><span class="line"></span><br><span class="line">## å¼ºåˆ¶åˆ·æ–° APT ç¼“å­˜</span><br><span class="line"></span><br><span class="line">sudo apt clean # æ¸…ç†ä¸‹è½½çš„ .deb ç¼“å­˜</span><br><span class="line">sudo rm -rf /var/lib/apt/lists/\* # åˆ é™¤æ‰€æœ‰ä»“åº“ç¼“å­˜</span><br><span class="line">sudo apt update # å¼ºåˆ¶é‡æ–°åŠ è½½ä»“åº“</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥ï¼Œé‡æ–°æ‰§è¡Œå®˜æ–¹å®‰è£…å‘½ä»¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/cuda-ubuntu2204.pin</span><br><span class="line">sudo mv cuda-ubuntu2204.pin /etc/apt/preferences.d/cuda-repository-pin-600</span><br><span class="line">wget https://developer.download.nvidia.com/compute/cuda/12.4.0/local_installers/cuda-repo-ubuntu2204-12-4-local_12.4.0-550.54.14-1_amd64.deb</span><br><span class="line">sudo dpkg -i cuda-repo-ubuntu2204-12-4-local_12.4.0-550.54.14-1_amd64.deb</span><br><span class="line">sudo cp /var/cuda-repo-ubuntu2204-12-4-local/cuda-\*-keyring.gpg /usr/share/keyrings/</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get -y install cuda-toolkit-12-4</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸‹æˆåŠŸäº†â€¦!çœŸæ˜¯å¥‡æ€ªçš„é—®é¢˜ã€‚</p>
<p>ä¸è¿‡å‘ç°å‘½ä»¤è¡Œè¿˜æ˜¯æ‰¾ä¸åˆ° nvccï¼Œæ€€ç–‘æ˜¯è·¯å¾„é—®é¢˜ï¼ŒæŸ¥äº†ä¸€ä¸‹ï¼Œnvcc æ˜¯è¢«å®‰è£…/usr/local/cuda-12.4/bin/nvcc ä¸‹é¢ï¼Œæ‰§è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&gt; &gt; /usr/local/cuda-12.4/bin/nvcc --version</span><br><span class="line">&gt; &gt; nvcc: NVIDIA (R) Cuda compiler driver</span><br><span class="line">&gt; &gt; Copyright (c) 2005-2024 NVIDIA Corporation</span><br><span class="line">&gt; &gt; Built on Tue_Feb_27_16:19:38_PST_2024</span><br><span class="line">&gt; &gt; Cuda compilation tools, release 12.4, V12.4.99</span><br><span class="line">&gt; &gt; Build cuda_12.4.r12.4/compiler.33961263_0</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ok!</p>
<p>äºæ˜¯åº”è¯¥åªéœ€è¦æ·»åŠ è·¯å¾„åˆ° PATH å³å¯ï¼Œä¸è¿‡å®‰å…¨èµ·è§ï¼Œçœ‹çœ‹ä¸‹è½½å¥½ nvcc ååˆ°åº•æœ‰å“ªå„¿äº›è®¾ç½®ã€‚æŸ¥é˜…<a href="https://www.cnblogs.com/gishuanhuan/p/17682644.html">ç½‘ç»œ</a>åå‘ç°é™¤äº† PATHï¼Œè¿˜éœ€è¦è®¾ç½® LD_LIBRARY_PATH</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">export CUDA_HOME=/usr/local/cuda-12.4</span><br><span class="line">export PATH=$&#123;CUDA_HOME&#125;/bin:$PATH # OS æ£€ç´¢å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„</span><br><span class="line">export LD_LIBRARY_PATH=$&#123;CUDA_HOME&#125;/lib64:$PATH # ld.so æ£€ç´¢åŠ¨æ€é“¾æ¥åº“çš„è·¯å¾„</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>é‚£ LD_LIBRARY_PATH æ˜¯ä»€ä¹ˆï¼Ÿæƒ³èµ·ä»¥å‰ OS è¯¾è®²åŠ¨æ€é“¾æ¥çš„æ—¶å€™æåˆ°è¿‡ï¼Œæ˜¯ <a href="https://man7.org/linux/man-pages/man8/ld.so.8.html">ld.so ï¼ˆåŠ¨æ€è¿æ¥å™¨ï¼‰</a> <a href="http://xn--6fr40zm5a0yehxbt5f99d703gzeobhm.so">è¿è¡Œæ—¶æŸ¥æ‰¾åŠ¨æ€é“¾æ¥åº“.so</a> çš„æ—¶å€™è¦ç”¨çš„ï¼Œä¹Ÿå°±æ˜¯åŠ¨æ€é“¾æ¥åº“è·¯å¾„ï¼ŒåŸºäº CUDA çš„ç¨‹åºï¼ˆæ¯”å¦‚æ·±åº¦å­¦ä¹ åº“ PyTorch/TensorFlow ç­‰ï¼‰åœ¨è¿è¡Œæ—¶ä¾èµ– lib64 <a href="http://xn--ghqq00hg2v.so">ä¸‹é¢çš„.so</a> åº“ã€‚çœ‹ä¸€çœ‹ lib64 ä¸‹é¢çš„å†…å®¹å°±çŸ¥é“äº†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&gt; &gt; ls /usr/local/cuda-12.4/lib64</span><br><span class="line">&gt; &gt; cmake libnppial.so.12</span><br><span class="line">&gt; &gt; libOpenCL.so libnppial.so.12.2.5.2</span><br><span class="line">&gt; &gt; libOpenCL.so.1 libnppial_static.a</span><br><span class="line">&gt; &gt; libOpenCL.so.1.0 libnppicc.so</span><br><span class="line">&gt; &gt; libOpenCL.so.1.0.0 libnppicc.so.12</span><br><span class="line">&gt; &gt; ...</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼Œå‘½ä»¤è¡Œå¯ä»¥é”®å…¥ nvccï¼Œ<a href="http://ld.so">ld.so</a> ä¹Ÿå¯ä»¥åŠ è½½ cuda åŠ¨æ€åº“äº†ï¼Œcuda toolkit å®‰è£…å®Œæ¯•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&gt; &gt; nvcc --version</span><br><span class="line">&gt; &gt; nvcc: NVIDIA (R) Cuda compiler driver</span><br><span class="line">&gt; &gt; Copyright (c) 2005-2024 NVIDIA Corporation</span><br><span class="line">&gt; &gt; Built on Tue_Feb_27_16:19:38_PST_2024</span><br><span class="line">&gt; &gt; Cuda compilation tools, release 12.4, V12.4.99</span><br><span class="line">&gt; &gt; Build cuda_12.4.r12.4/compiler.33961263_0</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1>åŸºäº Conda å®‰è£… PyTorchï¼ˆGPU ç‰ˆï¼‰</h1>
<h2 id="æŸ¥æ‰¾é€‚é…-CUDA-12-6-çš„-Pytorch-ç‰ˆæœ¬">æŸ¥æ‰¾é€‚é… CUDA 12.6 çš„ Pytorch ç‰ˆæœ¬</h2>
<p>åœ¨<a href="https://pytorch.org/">Pytorch å®˜ç½‘</a>ä¸Šå‘ç° stable ç‰ˆæœ¬åªæœ‰ cuda11.8, 12.6, 12.8 çš„æ¨èï¼Œæ²¡æœ‰ cuda12.4ã€‚ä½†ä¸ç”¨æ‹…å¿ƒï¼ŒPytorch-cuda126 æ˜¯æŒ‡è‡ªå¸¦äº†è‡ªå·±éœ€è¦çš„ cuda12.6 è¿è¡Œæ—¶åº“çš„ï¼Œä¸”åŸºæœ¬æ˜¯å¤§ç‰ˆæœ¬å…¼å®¹çš„ï¼Œåªè¦ä¸»ç‰ˆæœ¬ç›¸åŒå³å¯ï¼Œå³ 12.xï¼ˆegï¼šå®‰å“ 13 çš„ç¨‹åºå¯ä»¥åœ¨å®‰å“ 12 çš„æ‰‹æœºä¸Šè¿è¡Œï¼Œå› ä¸ºå®ƒè‡ªå¸¦äº†è‡ªå·±æ‰€éœ€çš„å®‰å“ 13 çš„å¢é‡åº“ï¼‰ã€‚å®‰è£…æœ€æ¥è¿‘çš„ CUDA 12.6 åº”è¯¥æ˜¯æ²¡å•¥é—®é¢˜çš„ã€‚</p>
<figure style="text-align:center">
    <img src="/2025/07/14/Pytorch%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/install_pytorch.png" width="80%">
</figure>
<p>å®‰è£…å‘½ä»¤ä¸º<code>pip3 install torch torchvision torchaudio</code>ã€‚<b>çœ‹è¿™å‘½ä»¤ï¼Œåº”è¯¥æ”¯æŒåˆ° CUDA12.6 çš„ Pytorch åº”è¯¥å°±æ˜¯é»˜è®¤ä¸»æµç‰ˆæœ¬äº†</b>ã€‚</p>
<p>ä¸è¿‡ï¼Œæ¯•ç«Ÿé©±åŠ¨æœ€é«˜æ”¯æŒ CUDA12.4ï¼ŒPytorch-cuda126 ä¸‡ä¸€å•¥æ—¶å€™ç”¨åˆ°äº† CUDA12.6 ç›¸å¯¹äº 12.4 æ–°å¢çš„ API ä¸”è¯¥ API ä¾èµ–é©±åŠ¨çš„æ–°å¢åŠŸèƒ½ï¼Œåˆ°æ—¶å€™å‡ºç° error æŸ¥èµ·æ¥å°±è›‹ç–¼äº†ã€‚æ‰€ä»¥ï¼Œä¸ºäº†é¿å…æ½œåœ¨çš„å…¼å®¹æ€§é—®é¢˜ï¼Œå»ç¿»é˜…<a href="https://pytorch.org/get-started/previous-versions/">å†å²ç‰ˆæœ¬</a>ã€‚æ³¨æ„åˆ°æœ€è¿‘çš„å†å²ç‰ˆæœ¬ v2.6.0 æ˜¯æœ‰ä¾èµ– CUDA12.4 çš„ï¼Œç›¸åº” pip å®‰è£…å‘½ä»¤ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"># CUDA 12.4</span><br><span class="line"></span><br><span class="line">pip install torch==2.6.0 torchvision==0.21.0 torchaudio==2.6.0 --index-url https://download.pytorch.org/whl/cu124</span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="åˆ›å»º-Conda-ç¯å¢ƒ">åˆ›å»º Conda ç¯å¢ƒ</h2>
<p>Python åº“ç‰¹åˆ«æ‚ï¼Œå„ç§ä¾èµ–é—®é¢˜ï¼Œä¸ºäº†éš”ç¦»ç¯å¢ƒï¼Œç”¨ Conda è¿›è¡Œè™šæ‹Ÿç¯å¢ƒéš”ç¦»ã€‚ä¸ªäººæ¯”è¾ƒæ¨èçº¯å‘½ä»¤è¡Œçš„ minicondaï¼Œæ„å»ºå’Œç®¡ç†è™šæ‹Ÿç¯å¢ƒè¶³å¤Ÿç”¨äº†ï¼Œå®‰è£…å¾ˆç®€å•ï¼Œå‚è€ƒ<a href="https://www.anaconda.com/docs/getting-started/miniconda/install#linux">å®˜æ–¹æ–‡æ¡£<a>ã€‚</a></a></p>
<p>ä»¥é˜²ä¸‡ä¸€ï¼Œåˆ›å»ºç¨å¾®æ¯” 3.9 æ–°ä¸€ç‚¹çš„ Python3.10 è™šæ‹Ÿç¯å¢ƒ RLã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&gt; &gt; conda create -n RL python=3.10</span><br><span class="line"></span><br><span class="line">&gt; &gt; python --version</span><br><span class="line">&gt; &gt; Python 3.10.18</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ¿€æ´»ç¯å¢ƒå¹¶æ ¹æ®<a href="#æŸ¥æ‰¾é€‚é… CUDA 12.6 çš„ Pytorch ç‰ˆæœ¬">å‰æ–‡</a>ç¡®å®šçš„ Pytorch ç‰ˆæœ¬å®‰è£… Pytorch</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&gt; &gt; conda activate RL</span><br><span class="line">&gt; &gt; (RL) pip install torch==2.6.0 torchvision==0.21.0 torchaudio==2.6.0 --index-url https://download.pytorch.org/whl/cu124</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å®‰è£…è¿‡ç¨‹æ¯”è¾ƒæ¼«é•¿ï¼Œæ…¢æ…¢ç­‰å§â€¦</p>
<h2 id="ç›¸å…³éªŒè¯">ç›¸å…³éªŒè¯</h2>
<h3 id="PyTorch-æ˜¯å¦æˆåŠŸå®‰è£…">PyTorch æ˜¯å¦æˆåŠŸå®‰è£…</h3>
<p>å®Œæˆåï¼Œé”®å…¥å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ torch åŠå…¶ç‰ˆæœ¬</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&gt; &gt; (RL) python</span><br><span class="line">&gt; &gt;</span><br><span class="line">&gt; &gt; &gt; import torch</span><br><span class="line">&gt; &gt; &gt; print(torch.**version**)</span><br><span class="line">&gt; &gt; &gt; 2.6.0+cu124</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å®‰è£…äº†ä¾èµ– cuda12.4 çš„ torch2.7.0</p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å®‰è£…äº† GPU é©±åŠ¨ï¼ˆVersion: 550.144.03ï¼‰+ CUDAï¼ˆVersion: 12.4ï¼‰+ Python(Version: 3.10.18) + Pytorchï¼ˆVersion: 2.6.0+cuda124ï¼‰ã€‚</p>
<h3 id="éªŒè¯-GPU-æ˜¯å¦å¯ç”¨">éªŒè¯ GPU æ˜¯å¦å¯ç”¨</h3>
<p>è¿è¡Œä»¥ä¸‹ä»£ç æ£€æŸ¥ PyTorch èƒ½å¦è°ƒç”¨ CUDA è®¿é—® GPU</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&gt; &gt; (RL) python</span><br><span class="line">&gt; &gt;</span><br><span class="line">&gt; &gt; &gt; import torch</span><br><span class="line">&gt; &gt; &gt; print(torch.cuda.is_available()) # æ£€æŸ¥ CUDA æ˜¯å¦å¯ç”¨ï¼ˆTrue è¡¨ç¤º GPU å¯ç”¨ï¼‰</span><br><span class="line">&gt; &gt; &gt; True</span><br><span class="line">&gt; &gt; &gt; print(torch.cuda.device_count()) # æ˜¾ç¤ºå¯ç”¨ GPU æ•°é‡</span><br><span class="line">&gt; &gt; &gt; 1</span><br><span class="line">&gt; &gt; &gt; print(torch.cuda.get_device_name(0)) # è¾“å‡ºç¬¬ 1 å— GPU çš„åç§°ï¼ˆå¦‚ &quot;NVIDIA RTX 3090&quot;ï¼‰</span><br><span class="line">&gt; &gt; &gt; NVIDIA GeForce RTX 3060 Laptop GPU</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="æ£€æŸ¥-CUDA-ç‰ˆæœ¬">æ£€æŸ¥ CUDA ç‰ˆæœ¬</h3>
<p>è¿è¡Œä»¥ä¸‹ä»£ç æŸ¥çœ‹ PyTorch æ”¯æŒåˆ°çš„ CUDA ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&gt; &gt; &gt; print(torch.version.cuda) # è¾“å‡º PyTorch ä½¿ç”¨çš„ CUDA ç‰ˆæœ¬</span><br><span class="line">&gt; &gt; &gt; print(torch.version.cuda)</span><br><span class="line">&gt; &gt; &gt; 12.4</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="éªŒè¯-cuDNN-æ˜¯å¦å¯ç”¨">éªŒè¯ cuDNN æ˜¯å¦å¯ç”¨</h3>
<p>cuDNNï¼ˆCUDA Deep Neural Network libraryï¼‰æ˜¯æ·±åº¦å­¦ä¹ åŠ é€Ÿåº“ï¼Œä¸“é—¨ç”¨äºä¼˜åŒ– GPU ä¸Šçš„æ·±åº¦ç¥ç»ç½‘ç»œè®¡ç®—ï¼ˆå¦‚å·ç§¯ã€æ± åŒ–ã€LSTM ç­‰ï¼‰ï¼Œæ˜¯ CUDA ç”Ÿæ€çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚è®°å¾—ä»¥å‰å®‰è£…çš„æ—¶å€™è¿˜éœ€è¦æ‰‹åŠ¨ä»å®˜ç½‘ä¸‹è½½ï¼Œç‰ˆæœ¬å¯¹åº”ä¹Ÿæ€ªéº»çƒ¦çš„ï¼Œæ²¡æƒ³åˆ°ç°åœ¨å®˜æ–¹åœ¨é¢„ç¼–è¯‘çš„ PyTorch äºŒè¿›åˆ¶åŒ…ï¼ˆpip/conda å®‰è£…ï¼‰ ä¸­ç›´æ¥é›†æˆäº† å¯¹åº”ç‰ˆæœ¬çš„ cuDNNï¼Œå¤ªå¦™äº†ã€‚æŸ¥äº†ä»¥ä¸‹ï¼Œåº”è¯¥æ˜¯ä» PyTorch 1.6 ç‰ˆæœ¬å¼€å§‹çš„ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&gt; &gt; &gt; print(torch.backends.cudnn.version()) # è¾“å‡º cuDNN ç‰ˆæœ¬</span><br><span class="line">&gt; &gt; &gt; 90100</span><br><span class="line">&gt; &gt; &gt; print(torch.backends.cudnn.is_available()) # æ£€æŸ¥ cuDNN æ˜¯å¦å¯ç”¨</span><br><span class="line">&gt; &gt; &gt; True</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="è¿è¡Œä¸€ä¸ªå°å‹-GPU-æµ‹è¯•">è¿è¡Œä¸€ä¸ªå°å‹ GPU æµ‹è¯•</h3>
<p>æœ€åï¼Œç”¨ä»¥ä¸‹è„šæœ¬å¯ç”¨ cuDNN, ç”¨ cuda åœ¨ GPU ä¸Šè·‘ä¸ªå·ç§¯å±‚çœ‹çœ‹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">import torch</span><br><span class="line"></span><br><span class="line"># å¯ç”¨ cuDNN åŠ é€Ÿ</span><br><span class="line"></span><br><span class="line">torch.backends.cudnn.enabled = True</span><br><span class="line"></span><br><span class="line"># æ„é€ ä¸€ä¸ªå·ç§¯æ“ä½œï¼ˆä¼šè°ƒç”¨ cuDNNï¼‰</span><br><span class="line"></span><br><span class="line">input_data = torch.randn(1, 3, 32, 32).cuda() # [batch, channel, height, width]</span><br><span class="line">conv_layer = torch.nn.Conv2d(3, 64, kernel_size=3).cuda() # è¾“å…¥é€šé“ 3ï¼Œè¾“å‡ºé€šé“ 64</span><br><span class="line">output = conv_layer(input_data) # æ­¤æ“ä½œä¼šè°ƒç”¨ cuDNN</span><br><span class="line"></span><br><span class="line">print(output.shape) # è¾“å‡ºå½¢çŠ¶ [1, 64, 30, 30]</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">out: torch.Size([1, 64, 30, 30])</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å¦‚æœä»£ç æ­£å¸¸è¿è¡Œï¼Œè¯´æ˜ PyTorch + CUDA + cuDNN + GPU å…¨éƒ¨å¯ç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Pytorch</category>
        <category>tutorial</category>
      </categories>
      <tags>
        <tag>Pytorch</tag>
        <tag>Conda</tag>
        <tag>DeepLearning</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2025/07/16/Pytorch%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/architecture/</url>
    <content><![CDATA[<pre class="mermaid">graph BT
    %% ========== åº”ç”¨å±‚ï¼ˆæœ€ä¸Šå±‚ï¼‰ ==========
    H[Pythonæ·±åº¦å­¦ä¹ ç¨‹åº]

    %% ========== æ¡†æ¶å±‚ ==========
    subgraph PyTorch_with_CUDA+cuDNN
        E[PyTorch]
        F[CUDAè¿è¡Œæ—¶å­é›†]
        G[cuDNNè¿è¡Œæ—¶å­é›†]
        F1[libcudart.so]
        G1[libcudnn.so]

        F -->|æ”¯æŒå¹¶è¡Œè¿ç®—| E
        F -->|ç²¾ç®€å®ç°| F1
        G -->|æ”¯æŒæ·±åº¦å­¦ä¹ åŠ é€Ÿ| E
        G -->|ä¼˜åŒ–å®ç°| G1
        F -->|æä¾›è¿è¡Œæ—¶æ”¯æŒ| G
    end

    %% ========== ç³»ç»Ÿå±‚ ==========
    subgraph Host_System
        C[ç³»ç»ŸCUDA Toolkit]
        D[ç³»ç»ŸcuDNN]
        C1[nvcc]
        C2[libcudart.so]
        D1[libcudnn.so]
        D2[cudnn.h]

        C -->|åŒ…å«ç¼–è¯‘å™¨| C1
        C -->|åŒ…å«è¿è¡Œæ—¶| C2
        C -->|æä¾›å¼€å‘/è¿è¡Œæ—¶æ”¯æŒ| D
        D -->|åŒ…å«ç®—æ³•å®ç°| D1
        D -->|åŒ…å«å¼€å‘æ¥å£| D2
    end

    %% ========== é©±åŠ¨å±‚ ==========
    B[NVIDIAé©±åŠ¨]

    %% ========== ç¡¬ä»¶å±‚ï¼ˆæœ€åº•å±‚ï¼‰ ==========
    A[GPUç¡¬ä»¶]

    %% ========== è·¨å±‚çº§è¿æ¥ ==========
    A -->|æä¾›è®¡ç®—æŒ‡ä»¤é›†| B
    B -->|æä¾›åº•å±‚é©±åŠ¨API| C
    B -->|æä¾›åº•å±‚é©±åŠ¨API| F
    PyTorch_with_CUDA+cuDNN -->|è®­ç»ƒ/æ¨ç†è°ƒç”¨| H
    Host_System -->|å¼€å‘æ—¶è°ƒç”¨| H

    %% ========== æ ·å¼å®šä¹‰ ==========
    style A fill:#ff9,stroke:#333
    style B fill:#9cf,stroke:#333
    style C fill:#c9f,stroke:#333
    style D fill:#f99,stroke:#333
    style E fill:#9f9,stroke:#333
    style F fill:#6f6,stroke:#333
    style G fill:#f66,stroke:#333
    style H fill:#f9f,stroke:#333</pre>
]]></content>
  </entry>
</search>
